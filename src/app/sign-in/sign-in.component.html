<div class="backdrop"></div>
<div class="sign-in-container">
  <h2 class="sign-in-header">Member Login</h2>
  <div *ngIf="loginFailed" class="alert alert-danger" [class.fade-in]="loginFailed">
    Please check your email or password.
  </div>
  <div *ngIf="tooManyRequests" class="alert alert-danger" [class.fade-in]="loginFailed">
    Too many attempts. Please try again later.
  </div>
  <form [formGroup]="signInForm" (ngSubmit)="onLogin()" class="sign-in-form">
    <div class="input-wrapper">
      <span class="input-icon"><i class="fa fa-envelope"></i></span>
      <input
        type="email"
        formControlName="email"
        required
        placeholder="Email"
      />
    </div>

    <div class="input-wrapper password-wrapper">
      <span class="input-icon"><i class="fa fa-lock"></i></span>
      
      <input
        [type]="showPassword ? 'text' : 'password'"
        formControlName="password"
        required
        placeholder="Password"
      />
    
      <span class="toggle-password" (click)="togglePasswordVisibility()">
        <i class="fa" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
      </span>
    </div>

    <div *ngIf="submitted && signInForm.invalid" class="alert alert-danger" [class.fade-in]="submitted && signInForm.invalid">
      <ul class="mb-0">
        <li *ngIf="f.email.errors?.['required']">Email is required.</li>
        <li *ngIf="f.email.errors?.['email']">Enter a valid email address.</li>
        <li *ngIf="f.password.errors?.['required']">Password is required.</li>
      </ul>
    </div>

    <button type="submit" class="login-button">LOGIN</button>
  </form>

  <div class="create-account">
    <nav>
      <a routerLink="/register" routerLinkActive="active">Create your Account â†’</a>
    </nav>
  </div>
</div>